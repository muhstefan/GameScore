{% extends "base.html" %}

{% block title %}Игры{% endblock %}
{% block scripts %}


<script>
  const games = {{ games | tojson }};
</script>
<script src="{{ url_for('static', path='js/gamesPage.js') }}" type="module" defer>>  </script>


{% endblock %}
{% block content %}
<div class="addition-container">
     <h3>Ваш список игр</h3>
    <button id="add_game" type="button">добавить игру</button>
</div>

<div class="container" id="game_list_container">

    <h1>СПИСОК ИГР</h1>

    {% for game in games %}
    <div class="game-container" id="container_{{ game.id }}">
        <h3>{{ game.name }} - {{ game.rating }}</h3>
         <button id="edit_game_{{ game.id }}" type="button">редактировать</button>
         <button id="delete_game_{{ game.id }}" type="button">удалить</button>

    </div>
    {% else %}
    <p>Игры не найдены</p>
    {% endfor %}
</div>

<!--Модальное окно(по умолчанию скрыто)-->
<div id="myModal" class="modal">
  <div class="modal-content">
    <h2>Добавить игру</h2>

    <form id="gameForm">
      <div class="form-group">
        <label for="title">Название</label>
        <input type="text" id="title" name="title" placeholder="Введите название" required>
      </div>

      <div class="form-group">
        <label for="description">Описание</label>
        <textarea id="description" name="description" placeholder="Введите описание" rows="3" required></textarea>
      </div>

      <div class="form-group">
        <label for="rating">Оценка</label>
        <input type="number" id="rating" name="rating" min="0" max="10" step="0.1" placeholder="0 - 10" required>
      </div>

      <button type="submit">Сохранить</button>
    </form>
  </div>
</div>

{% endblock %}
